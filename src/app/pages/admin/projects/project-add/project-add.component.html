<app-navbar></app-navbar>

<div class="form-title">
  <h2>Project</h2>
</div>

{{ project | json }}

<div class="main-content">
  <form #formAdd="ngForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label class="form-label">name</label>
      <input
        type="text"
        class="form-control"
        placeholder="name"
        name="name"
        #name="ngModel" required minlength="5"
        [(ngModel)]="project.name"
      />
      <div *ngIf="name.errors" class="alert">
        <div  class="alert alert-danger" *ngIf="name.errors?.['required'] && (name.dirty || name.touched)">
            name is required
        </div>
        <div  class="alert alert-danger" *ngIf="name.errors?.['minlength'] && (name.dirty || name.touched)">
            Min length is 5
        </div>
    </div>
    </div>
 
    <div class="mb-3">
      <label class="form-label">image</label>
      <input
        type="text"
        class="form-control"
        placeholder="image"
        name="image"
        [(ngModel)]="project.image"
      />
    </div>
    <div class="mb-3">
      <label class="form-label">short-desc</label>
      <input
        type="text"
        class="form-control"
        name="shortDesc"
        #shortDesc="ngModel" required
        placeholder="shortDesc"
        [(ngModel)]="project.shortDesc"
      />
      <div *ngIf="shortDesc.errors" class="alert">
        <div  class="alert alert-danger" *ngIf="shortDesc.errors?.['required'] && (shortDesc.dirty || shortDesc.touched)">
            shortDesc is required
        </div>
    </div>
    </div>
   
    <div class="mb-3">
      <label class="form-label">desc</label>
      <input
        type="text"
        class="form-control"
        name="desc"
        #desc="ngModel" required
        placeholder="desc" 
        [(ngModel)]="project.desc"
      />
      <div *ngIf="desc.errors" class="alert">
        <div  class="alert alert-danger" *ngIf="desc.errors?.['required'] && (desc.dirty || desc.touched)">
            desc is required
        </div>
    </div>
    </div>
    <div class="mb-3">
      <label class="form-label">createAt</label>
      <input
        type="number"
        class="form-control"
        name="createAt"
        #createAt="ngModel" required
        placeholder="createAt" 
        [(ngModel)]="project.createAt"
      />
      <div *ngIf="createAt.errors" class="alert">
        <div  class="alert alert-danger" *ngIf="createAt.errors?.['required'] && (createAt.dirty || createAt.touched)">
          createAt is required
        </div>
    </div>
    </div>
    <div class="mb-3">
      <select class="form-select" aria-label="Default select example" [(ngModel)]="project.categoryProjectId" name="categoryPostId">
          <option selected>Category</option>
          <option *ngFor="let cate of categoryProject" value="{{cate.id}}">{{cate.name}}</option>
        </select>
  </div>

    <button [disabled]="!formAdd.valid"  class="btn btn-success">Submit</button>
    <button  routerLink="/admin/projects" class="btn btn-dark back-list">Back</button>
  </form>
</div>

